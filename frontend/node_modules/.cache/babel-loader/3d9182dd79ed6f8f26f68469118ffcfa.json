{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\akurt\\\\HotelApp\\\\frontend\\\\src\\\\RadnikPrijava.js\";\nimport React, { useState, Component } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./components/pages/Prijava.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from \"react-router-dom\";\nimport Navbar from './components/Navbar';\nimport Axios from \"axios\";\nimport Alert from \"reactstrap/lib/Alert\";\nimport { Route, withRouter } from \"react-router-dom\";\n\nclass Prijava extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      Axios.get(\"http://localhost:3001/login?username=\" + this.userName + \"&password=\" + this.password).then(result => {\n        console.log(result);\n        console.log(result.data);\n        if (result == 401) this.setState(state => ({ ...state,\n          error: true\n        }));else this.props.history.push(\"/radnik-profil\", {\n          username: this.userName,\n          password: this.password\n        });\n      });\n    };\n\n    this.state = { ...props.location.state.info,\n      userName: \"\",\n      password: \"\",\n      error: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  validateForm() {\n    return this.userName.length > 0 && this.password.length > 0;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prijava-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Prijava za osoblje\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              size: \"lg\",\n              controlId: \"email\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                autoFocus: true,\n                type: \"username\",\n                value: userName,\n                onChange: e => setUserName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              size: \"lg\",\n              controlId: \"password\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 9\n            }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n              color: \"danger\",\n              fade: false,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                },\n                children: \"Uneseni podaci nisu ispravni!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              block: true,\n              size: \"lg\",\n              type: \"submit\",\n              variant: \"primary\",\n              disabled: !validateForm(),\n              children: \"Prijava\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reg-div\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withRouter(Prijava);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/akurt/HotelApp/frontend/src/RadnikPrijava.js"],"names":["React","useState","Component","Form","Button","Link","Navbar","Axios","Alert","Route","withRouter","Prijava","constructor","props","handleSubmit","event","preventDefault","get","userName","password","then","result","console","log","data","setState","state","error","history","push","username","location","info","bind","validateForm","length","render","e","setUserName","target","value","setPassword","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, Component } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./components/pages/Prijava.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from './components/Navbar';\r\nimport Axios from \"axios\"\r\nimport Alert from \"reactstrap/lib/Alert\";\r\nimport {  Route, withRouter } from \"react-router-dom\";\r\n\r\nclass Prijava extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    ...props.location.state.info,\r\n    userName:\"\",\r\n    password:\"\",\r\n    error:false\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n \r\n  validateForm() {\r\n    return this.userName.length > 0 && this.password.length > 0;\r\n  }\r\n\r\n  handleSubmit = event =>{\r\n    event.preventDefault();\r\n    Axios.get(\"http://localhost:3001/login?username=\"+this.userName+\"&password=\"+this.password).then(result=>{\r\n    console.log(result);\r\n    console.log(result.data);  \r\n    if(result==401) this.setState(state => ({\r\n      ...state,\r\n      error:true\r\n    }));\r\n    else this.props.history.push(\"/radnik-profil\", {username:this.userName, password:this.password});\r\n    \r\n  });\r\n    \r\n  }\r\n  render() {\r\n  return (\r\n    <>\r\n    <Navbar />\r\n    <div className=\"prijava-container\">\r\n    \r\n    <div className=\"Login\">\r\n    <h1>Prijava za osoblje</h1>\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Group size=\"lg\" controlId=\"email\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            autoFocus\r\n            type=\"username\"\r\n            value={userName}\r\n            onChange={(e) => setUserName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group size=\"lg\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        {error && <Alert color=\"danger\" fade={false}>\r\n            <p style={{color: \"red\", fontWeight: \"bold\"}}>Uneseni podaci nisu ispravni!</p>\r\n          </Alert>}\r\n        <Button block size=\"lg\" type=\"submit\" variant=\"primary\" disabled={!validateForm()}>\r\n          Prijava\r\n        </Button>\r\n      </Form>\r\n      <div className=\"reg-div\">\r\n    \r\n      </div>\r\n      \r\n\r\n    </div>\r\n    </div>\r\n    </>\r\n  );\r\n  }\r\n}\r\nexport default withRouter(Prijava);"]},"metadata":{},"sourceType":"module"}