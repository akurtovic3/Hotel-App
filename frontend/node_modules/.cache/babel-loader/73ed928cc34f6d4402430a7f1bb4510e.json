{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\zahir\\\\Desktop\\\\noviReact\\\\Verzija 22.1.2021\\\\HotelApp\\\\frontend\\\\src\\\\Radnik.js\";\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container'; // Import required Components and Utils\n\nimport { UserContext, user } from './UserContext';\nimport UserNavigationCard from './components/user_navigation_card';\nimport authapi from './utils/authapi';\nimport { PrivateAccessRoute } from './components/private_access_route'; // Import all pages\n\nimport Login from '../../components/pages/login';\n\nclass Radnik extends React.Component {\n  constructor() {\n    super();\n\n    this.postUserLogin = userData => {\n      if (userData) {\n        authapi.postUserLogin(userData, (err, res) => {\n          if (err === true) {\n            return console.log('Failed to log in');\n          }\n\n          this.setState({\n            user: res.user\n          });\n        });\n      }\n    };\n\n    this.getUserLogout = event => {\n      event.preventDefault();\n      authapi.getLoggedOut().then(this.getUserStatus);\n    };\n\n    this.getUserStatus = () => {\n      authapi.getLoginStatus().then(res => {\n        if (res) {\n          this.setState(() => ({\n            user: res.user\n          }));\n        }\n      });\n    };\n\n    this.state = {\n      user: user,\n      getUserStatus: this.getUserStatus,\n      getUserLogout: this.getUserLogout,\n      postUserLogin: this.postUserLogin\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.user.access_id === 0) {\n      this.state.getUserStatus();\n    }\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n      value: this.state,\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: user.access_id === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Redirect, {\n            to: '/'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Container, {\n          fluid: true,\n          className: \"m-0 p-0 w-100\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"m-0 pt-3 p-3\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 3,\n              xl: 2,\n              children: /*#__PURE__*/_jsxDEV(UserNavigationCard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 9,\n              xl: 10,\n              children: /*#__PURE__*/_jsxDEV(Switch, {\n                children: [/*#__PURE__*/_jsxDEV(PrivateAccessRoute, {\n                  exact: true,\n                  strict: true,\n                  path: \"/\",\n                  component: Dashboard,\n                  accessId: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PrivateAccessRoute, {\n                  exact: true,\n                  path: \"/reserve/new\",\n                  component: NewReservation,\n                  accessId: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PrivateAccessRoute, {\n                  exact: true,\n                  path: \"/reserve/allreservations\",\n                  component: AllReservations,\n                  accessId: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PrivateAccessRoute, {\n                  exact: true,\n                  path: \"/reserve/updatereservation\",\n                  component: UpdateReservation,\n                  accessId: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PrivateAccessRoute, {\n                  exact: true,\n                  path: \"/reservationcomfirmation\",\n                  component: ReservationComfirmation,\n                  accessId: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PrivateAccessRoute, {\n                  exact: true,\n                  path: \"/frontdesk/arrivals\",\n                  component: Arrivals,\n                  accessId: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Radnik;","map":{"version":3,"sources":["C:/Users/zahir/Desktop/noviReact/Verzija 22.1.2021/HotelApp/frontend/src/Radnik.js"],"names":["React","BrowserRouter","Router","Switch","Redirect","Row","Col","Container","UserContext","user","UserNavigationCard","authapi","PrivateAccessRoute","Login","Radnik","Component","constructor","postUserLogin","userData","err","res","console","log","setState","getUserLogout","event","preventDefault","getLoggedOut","then","getUserStatus","getLoginStatus","state","componentDidMount","access_id","render","Dashboard","NewReservation","AllReservations","UpdateReservation","ReservationComfirmation","Arrivals"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\n// Import required Components and Utils\r\nimport { UserContext, user } from './UserContext'\r\nimport UserNavigationCard from './components/user_navigation_card'\r\nimport authapi from './utils/authapi'\r\nimport { PrivateAccessRoute } from './components/private_access_route'\r\n\r\n// Import all pages\r\nimport Login from '../../components/pages/login'\r\n\r\n\r\n\r\nclass Radnik extends React.Component {\r\n  constructor () {\r\n    super()\r\n    this.postUserLogin = userData => {\r\n      if (userData) {\r\n        authapi.postUserLogin(userData, (err, res) => {\r\n          if (err === true) {\r\n            return console.log('Failed to log in')\r\n          }\r\n          this.setState({ user: res.user })\r\n        })\r\n      }\r\n    }\r\n    this.getUserLogout = event => {\r\n      event.preventDefault()\r\n      authapi.getLoggedOut().then(this.getUserStatus)\r\n    }\r\n    this.getUserStatus = () => {\r\n      authapi.getLoginStatus().then(res => {\r\n        if (res) {\r\n          this.setState(() => ({ user: res.user }))\r\n        }\r\n      })\r\n    }\r\n    this.state = {\r\n      user: user,\r\n      getUserStatus: this.getUserStatus,\r\n      getUserLogout: this.getUserLogout,\r\n      postUserLogin: this.postUserLogin\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    if (this.state.user.access_id === 0) {\r\n      this.state.getUserStatus()\r\n    }\r\n  }\r\n  render () {\r\n    const { user } = this.state\r\n    return (\r\n      <UserContext.Provider value={this.state}>\r\n        <Router>\r\n          {user.access_id === 0 ? (\r\n            <>\r\n              <Redirect to={'/'} />\r\n              <Login />\r\n            </>\r\n          ) : (\r\n            <Container fluid className='m-0 p-0 w-100'>\r\n              \r\n              <Row className='m-0 pt-3 p-3'>\r\n                <Col lg={3} xl={2}>\r\n                  <UserNavigationCard />\r\n                </Col>\r\n                <Col lg={9} xl={10}>\r\n                  <Switch>\r\n                    <PrivateAccessRoute\r\n                      exact\r\n                      strict\r\n                      path='/'\r\n                      component={Dashboard}\r\n                      accessId='1'\r\n                    />\r\n                    <PrivateAccessRoute\r\n                      exact\r\n                      path='/reserve/new'\r\n                      component={NewReservation}\r\n                      accessId='1'\r\n                    />\r\n                    <PrivateAccessRoute\r\n                      exact\r\n                      path='/reserve/allreservations'\r\n                      component={AllReservations}\r\n                      accessId='1'\r\n                    />\r\n                    <PrivateAccessRoute\r\n                      exact\r\n                      path='/reserve/updatereservation'\r\n                      component={UpdateReservation}\r\n                      accessId='1'\r\n                    />\r\n                    <PrivateAccessRoute\r\n                      exact\r\n                      path='/reservationcomfirmation'\r\n                      component={ReservationComfirmation}\r\n                      accessId='1'\r\n                    />\r\n                    <PrivateAccessRoute\r\n                      exact\r\n                      path='/frontdesk/arrivals'\r\n                      component={Arrivals}\r\n                      accessId='1'\r\n                    />\r\n                    \r\n                    \r\n                   \r\n                  </Switch>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          )}\r\n        </Router>\r\n      </UserContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Radnik"]},"metadata":{},"sourceType":"module"}