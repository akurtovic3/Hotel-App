{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\akurt\\\\HotelApp\\\\frontend\\\\src\\\\components\\\\MjesecView.js\";\nimport React, { Component } from 'react';\nimport { DayPilot, DayPilotScheduler } from \"daypilot-pro-react\";\nimport { GrNext, GrBack } from 'react-icons/gr';\nimport { IoIosArrowBack, IoIosArrowForward } from 'react-icons/io';\nimport Button from 'react-bootstrap/Button';\nimport Axios from \"axios\";\nimport moment from 'moment';\nimport { Route, withRouter } from \"react-router-dom\";\n\nclass Scheduler extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ucitajRezervacije = () => {\n      Axios.get(\"http://localhost:3001/rezervacije\").then((result, fields) => {\n        var rezerv = result.data;\n        this.setState(state => ({ ...state,\n          rezervacije: result.data,\n          events: []\n        }));\n        console.log(\"lista rezervacija u kalendaru\");\n        console.log(result.data);\n        rezerv.map((rez, i) => {\n          Axios.get(\"http://localhost:3001/korisnik?id=\" + rez.id_korisnik).then((result, fields) => {\n            //     console.log(result.data)\n            this.setState(state => ({ ...state,\n              //rezerv[i][\"ime\"]=result.data[0].ime;\n              //rezerv[i][\"prezime\"]=result.data[0].prezime;\n              events: [...this.state.events, {\n                id: i,\n                text: result.data[0].ime + \" \" + result.data[0].prezime,\n                start: moment(rez.start_date).format('YYYY-MM-DD'),\n                end: moment(rez.end_Date).format('YYYY-MM-DD'),\n                resource: \"R\" + rez.id_soba\n              }]\n            }));\n            console.log(rez.id_rezervacije + \" \" + rez.id_korisnik + \" \" + result.data[0].ime);\n          });\n        });\n      });\n    };\n\n    this.state = {\n      startDate: new Date(),\n\n      /*startDate: \"2021-03-01\",*/\n      days: 31,\n      scale: \"Day\",\n      timeHeaders: [{\n        groupBy: \"Month\"\n      }, {\n        groupBy: \"Day\",\n        format: \"d\"\n      }],\n      resources: [{\n        name: \"Soba 1\",\n        id: \"R1\"\n      }, {\n        name: \"Soba 2\",\n        id: \"R2\"\n      }, {\n        name: \"Soba 3\",\n        id: \"R3\"\n      }, {\n        name: \"Soba 4\",\n        id: \"R4\"\n      }, {\n        name: \"Soba 5\",\n        id: \"R5\"\n      }, {\n        name: \"Soba 6\",\n        id: \"R6\"\n      }, {\n        name: \"Soba 7\",\n        id: \"R7\"\n      }, {\n        name: \"Soba 8\",\n        id: \"R8\"\n      }, {\n        name: \"Soba 9\",\n        id: \"R9\"\n      }, {\n        name: \"Soba 10\",\n        id: \"R10\"\n      }, {\n        name: \"Soba 11\",\n        id: \"R11\"\n      }, {\n        name: \"Soba 12\",\n        id: \"R12\"\n      }, {\n        name: \"Soba 13\",\n        id: \"R13\"\n      }],\n      rezervacije: [],\n      events: [],\n      timeRangeSelectedHandling: \"Disabled\",\n      eventMoveHandling: \"Disabled\",\n      eventResizeHandling: \"Disabled\",\n      eventDeleteHandling: \"Disabled\",\n      eventClickHandling: \"Disabled\",\n      eventRightClickHandling: \"Disabled\"\n    };\n    this.ucitajRezervacije();\n    this.promijeniMjesecNext = this.promijeniMjesecNext.bind(this);\n    this.promijeniMjesecBack = this.promijeniMjesecBack.bind(this);\n  }\n\n  promijeniMjesecNext() {\n    var d = new Date(this.state.startDate);\n    d.setMonth(d.getMonth() + 1);\n    console.log(d);\n    this.setState(state => ({ ...state,\n      startDate: d\n    }));\n  }\n\n  promijeniMjesecBack() {\n    var d = new Date(this.state.startDate);\n    d.setMonth(d.getMonth() - 1);\n    console.log(d);\n    this.setState(state => ({ ...state,\n      startDate: d\n    }));\n  }\n\n  render() {\n    var { ...config\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"zauzetost-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"naslov-zauzetost\",\n          children: \"Pregled zauzetosti\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          onClick: this.promijeniMjesecBack,\n          children: /*#__PURE__*/_jsxDEV(IoIosArrowBack, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 88\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          onClick: this.promijeniMjesecNext,\n          children: /*#__PURE__*/_jsxDEV(IoIosArrowForward, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 88\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DayPilotScheduler, { ...config,\n          ref: component => {\n            this.scheduler = component && component.control;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default _c = withRouter(Scheduler);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/akurt/HotelApp/frontend/src/components/MjesecView.js"],"names":["React","Component","DayPilot","DayPilotScheduler","GrNext","GrBack","IoIosArrowBack","IoIosArrowForward","Button","Axios","moment","Route","withRouter","Scheduler","constructor","props","ucitajRezervacije","get","then","result","fields","rezerv","data","setState","state","rezervacije","events","console","log","map","rez","i","id_korisnik","id","text","ime","prezime","start","start_date","format","end","end_Date","resource","id_soba","id_rezervacije","startDate","Date","days","scale","timeHeaders","groupBy","resources","name","timeRangeSelectedHandling","eventMoveHandling","eventResizeHandling","eventDeleteHandling","eventClickHandling","eventRightClickHandling","promijeniMjesecNext","bind","promijeniMjesecBack","d","setMonth","getMonth","render","config","component","scheduler","control"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {DayPilot, DayPilotScheduler} from \"daypilot-pro-react\";\r\nimport { GrNext, GrBack } from 'react-icons/gr';\r\nimport {IoIosArrowBack,IoIosArrowForward} from 'react-icons/io'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Axios from \"axios\"\r\nimport moment from 'moment'\r\nimport {  Route, withRouter } from \"react-router-dom\";\r\n\r\nclass Scheduler extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            startDate: new Date(),\r\n            /*startDate: \"2021-03-01\",*/\r\n            days: 31,\r\n            scale: \"Day\",\r\n            timeHeaders: [\r\n                { groupBy: \"Month\"},\r\n                { groupBy: \"Day\", format: \"d\"}\r\n            ],\r\n            resources: [\r\n                { name: \"Soba 1\", id: \"R1\"},\r\n                { name: \"Soba 2\", id: \"R2\"},\r\n                { name: \"Soba 3\", id: \"R3\"},\r\n                { name: \"Soba 4\", id: \"R4\"},\r\n                { name: \"Soba 5\", id: \"R5\"},\r\n                { name: \"Soba 6\", id: \"R6\"},\r\n                { name: \"Soba 7\", id: \"R7\"},\r\n                { name: \"Soba 8\", id: \"R8\"},\r\n                { name: \"Soba 9\", id: \"R9\"},\r\n                { name: \"Soba 10\", id: \"R10\"},\r\n                { name: \"Soba 11\", id: \"R11\"},\r\n                { name: \"Soba 12\", id: \"R12\"},\r\n                { name: \"Soba 13\", id: \"R13\"}\r\n            ],\r\n            rezervacije:[],\r\n            events: [],\r\n              timeRangeSelectedHandling: \"Disabled\",\r\n                eventMoveHandling: \"Disabled\",\r\n                eventResizeHandling: \"Disabled\",\r\n                eventDeleteHandling: \"Disabled\",\r\n                eventClickHandling: \"Disabled\",\r\n                eventRightClickHandling: \"Disabled\"\r\n        };\r\n        this.ucitajRezervacije();\r\n        this.promijeniMjesecNext = this.promijeniMjesecNext.bind(this);\r\n        this.promijeniMjesecBack = this.promijeniMjesecBack.bind(this);\r\n    }\r\n    ucitajRezervacije=()=>{\r\n      Axios.get(\"http://localhost:3001/rezervacije\").then((result, fields)=>{\r\n      var rezerv=result.data;\r\n      this.setState(state => ({\r\n        ...state,\r\n        rezervacije:result.data,\r\n        events:[]\r\n      }))\r\n      console.log(\"lista rezervacija u kalendaru\")\r\n      console.log(result.data)\r\n      rezerv.map((rez,i)=>{\r\n        Axios.get(\"http://localhost:3001/korisnik?id=\"+rez.id_korisnik).then((result, fields)=>{\r\n     //     console.log(result.data)\r\n     \r\n     this.setState(state => ({\r\n      ...state,\r\n     //rezerv[i][\"ime\"]=result.data[0].ime;\r\n     //rezerv[i][\"prezime\"]=result.data[0].prezime;\r\n      events: [...this.state.events, {id:i, text:result.data[0].ime+\" \"+result.data[0].prezime, start:moment(rez.start_date).format('YYYY-MM-DD'), end:moment(rez.end_Date).format('YYYY-MM-DD'), resource:\"R\"+rez.id_soba}],\r\n    }))\r\n    console.log(rez.id_rezervacije+\" \" + rez.id_korisnik+\" \"+result.data[0].ime)\r\n      })\r\n    })})\r\n    }\r\n    promijeniMjesecNext() {\r\n        var d = new Date(this.state.startDate)\r\n        d.setMonth(d.getMonth() + 1);\r\n        console.log(d)\r\n        \r\n        this.setState(state => ({\r\n          ...state,\r\n          startDate: d\r\n        }))\r\n        \r\n      }\r\n\r\n      promijeniMjesecBack() {\r\n        var d = new Date(this.state.startDate)\r\n        d.setMonth(d.getMonth() - 1);\r\n        console.log(d)\r\n        \r\n        this.setState(state => ({\r\n          ...state,\r\n          startDate: d\r\n        }))\r\n        \r\n      }\r\n\r\n    render() {\r\n        var {...config} = this.state;\r\n        return (\r\n            <>\r\n                <div className=\"zauzetost-container\">\r\n                <h2 className=\"naslov-zauzetost\">Pregled zauzetosti</h2>\r\n                <Button variant=\"outline-secondary\" onClick={this.promijeniMjesecBack}><IoIosArrowBack/></Button>\r\n                <Button variant=\"outline-secondary\" onClick={this.promijeniMjesecNext}><IoIosArrowForward/></Button>\r\n                \r\n                    <DayPilotScheduler\r\n                        {...config}\r\n                        \r\n                        ref={component => { this.scheduler = component && component.control; }}\r\n                        \r\n                    />\r\n                    \r\n                    \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Scheduler);"]},"metadata":{},"sourceType":"module"}