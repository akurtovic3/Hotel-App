{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\akurt\\\\HotelApp\\\\frontend\\\\src\\\\RadnikPrijava.js\";\nimport React, { useState, Component } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./components/pages/Prijava.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from \"react-router-dom\";\nimport Navbar from './components/Navbar';\nimport Axios from \"axios\";\nimport Alert from \"reactstrap/lib/Alert\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport styles from './PasswordField.less';\n\nclass Prijava extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showHide = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.setState({\n        type: this.state.type === 'text' ? 'password' : 'text'\n      });\n      this.input.focus();\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(this.state.userName);\n      console.log(this.state.password);\n      Axios.get(\"http://localhost:3001/login?username=\" + this.state.userName + \"&password=\" + this.state.password).then(result => {\n        console.log(result);\n        console.log(result.data);\n        if (!result.data.length) this.setState(state => ({ ...state,\n          error: true\n        }));else {\n          if (result.data[0].pristup) {\n            this.setState(state => ({ ...state,\n              error: false\n            }));\n            console.log(result.data);\n            console.log(result.data[0]);\n            this.props.history.push(\"/radnik-profil\", {\n              info: result.data[0]\n            });\n          } else {\n            this.setState(state => ({ ...state,\n              error: true\n            }));\n          }\n        }\n      });\n    };\n\n    this.state = { ...props.location.state,\n      userName: \"\",\n      password: \"\",\n      error: false,\n      type: 'password'\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  validateForm() {\n    return this.state.userName.length > 0 && this.state.password.length > 0;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prijava-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Prijava za osoblje\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              size: \"lg\",\n              controlId: \"email\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                autoFocus: true,\n                type: \"username\",\n                value: this.state.userName,\n                onChange: e => this.setState(state => ({ ...state,\n                  userName: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              size: \"lg\",\n              controlId: \"password\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                value: this.state.password,\n                onChange: e => this.setState(state => ({ ...state,\n                  password: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: [styles.visibility, 'flaticon-eye', this.state.type === 'text' ? styles.is_visible : styles.is_hidden].join(' '),\n                onClick: this.showHide\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 9\n            }, this), this.state.error && /*#__PURE__*/_jsxDEV(Alert, {\n              color: \"danger\",\n              fade: false,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                },\n                children: \"Uneseni podaci nisu ispravni!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              block: true,\n              size: \"lg\",\n              type: \"submit\",\n              variant: \"primary\",\n              disabled: !this.state.error && !this.validateForm,\n              children: \"Prijava\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reg-div\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withRouter(Prijava);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/akurt/HotelApp/frontend/src/RadnikPrijava.js"],"names":["React","useState","Component","Form","Button","Link","Navbar","Axios","Alert","Route","withRouter","styles","Prijava","constructor","props","showHide","e","preventDefault","stopPropagation","setState","type","state","input","focus","handleSubmit","event","console","log","userName","password","get","then","result","data","length","error","pristup","history","push","info","location","componentDidMount","window","scrollTo","validateForm","render","target","value","visibility","is_visible","is_hidden","join","color","fontWeight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAO,gCAAP;AACA,OAAO,sCAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,SAAUC,KAAV,EAAiBC,UAAjB,QAAmC,kBAAnC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AACA,MAAMC,OAAN,SAAsBV,SAAtB,CAAgC;AAC9BW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAWnBC,QAXmB,GAWPC,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACAD,MAAAA,CAAC,CAACE,eAAF;AACA,WAAKC,QAAL,CAAc;AACVC,QAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD,IAAX,KAAoB,MAApB,GAA6B,UAA7B,GAA0C;AADtC,OAAd;AAGA,WAAKE,KAAL,CAAWC,KAAX;AACH,KAlBoB;;AAAA,SA0BnBC,YA1BmB,GA0BJC,KAAK,IAAG;AACrBA,MAAAA,KAAK,CAACR,cAAN;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWO,QAAvB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWQ,QAAvB;AACAtB,MAAAA,KAAK,CAACuB,GAAN,CAAU,0CAAwC,KAAKT,KAAL,CAAWO,QAAnD,GAA4D,YAA5D,GAAyE,KAAKP,KAAL,CAAWQ,QAA9F,EAAwGE,IAAxG,CAA6GC,MAAM,IAAE;AACrHN,QAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,IAAnB;AACA,YAAG,CAACD,MAAM,CAACC,IAAP,CAAYC,MAAhB,EAAwB,KAAKf,QAAL,CAAcE,KAAK,KAAK,EAC9C,GAAGA,KAD2C;AAE9Cc,UAAAA,KAAK,EAAC;AAFwC,SAAL,CAAnB,EAAxB,KAIK;AACH,cAAGH,MAAM,CAACC,IAAP,CAAY,CAAZ,EAAeG,OAAlB,EAA0B;AAC1B,iBAAKjB,QAAL,CAAcE,KAAK,KAAK,EACtB,GAAGA,KADmB;AAEtBc,cAAAA,KAAK,EAAC;AAFgB,aAAL,CAAnB;AAIAT,YAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,IAAnB;AACAP,YAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,IAAP,CAAY,CAAZ,CAAZ;AACA,iBAAKnB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,gBAAxB,EAA0C;AAACC,cAAAA,IAAI,EAACP,MAAM,CAACC,IAAP,CAAY,CAAZ;AAAN,aAA1C;AACD,WARC,MASE;AACF,iBAAKd,QAAL,CAAcE,KAAK,KAAK,EACtB,GAAGA,KADmB;AAEtBc,cAAAA,KAAK,EAAC;AAFgB,aAAL,CAAnB;AAID;AACA;AACF,OAxBC;AA0BD,KAxDkB;;AAEjB,SAAKd,KAAL,GAAa,EACb,GAAGP,KAAK,CAAC0B,QAAN,CAAenB,KADL;AAEbO,MAAAA,QAAQ,EAAC,EAFI;AAGbC,MAAAA,QAAQ,EAAC,EAHI;AAIbM,MAAAA,KAAK,EAAC,KAJO;AAKbf,MAAAA,IAAI,EAAE;AALO,KAAb;AAQD;;AASDqB,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD;;AACDC,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKvB,KAAL,CAAWO,QAAX,CAAoBM,MAApB,GAA6B,CAA7B,IAAkC,KAAKb,KAAL,CAAWQ,QAAX,CAAoBK,MAApB,GAA6B,CAAtE;AACD;;AAiCDW,EAAAA,MAAM,GAAG;AACT,wBACE;AAAA,8BACA,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,+BAEA;AAAK,UAAA,SAAS,EAAC,OAAf;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEE,QAAC,IAAD;AAAM,YAAA,QAAQ,EAAE,KAAKrB,YAArB;AAAA,oCACE,QAAC,IAAD,CAAM,KAAN;AAAY,cAAA,IAAI,EAAC,IAAjB;AAAsB,cAAA,SAAS,EAAC,OAAhC;AAAA,sCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,gBAAA,SAAS,MADX;AAEE,gBAAA,IAAI,EAAC,UAFP;AAGE,gBAAA,KAAK,EAAE,KAAKH,KAAL,CAAWO,QAHpB;AAIE,gBAAA,QAAQ,EAAGZ,CAAD,IAAO,KAAKG,QAAL,CAAcE,KAAK,KAAK,EACvC,GAAGA,KADoC;AAEvCO,kBAAAA,QAAQ,EAACZ,CAAC,CAAC8B,MAAF,CAASC;AAFqB,iBAAL,CAAnB;AAJnB;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAaE,QAAC,IAAD,CAAM,KAAN;AAAY,cAAA,IAAI,EAAC,IAAjB;AAAsB,cAAA,SAAS,EAAC,UAAhC;AAAA,sCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,gBAAA,IAAI,EAAC,UADP;AAEE,gBAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWQ,QAFpB;AAGE,gBAAA,QAAQ,EAAGb,CAAD,IAAO,KAAKG,QAAL,CAAcE,KAAK,KAAK,EACvC,GAAGA,KADoC;AAEvCQ,kBAAAA,QAAQ,EAACb,CAAC,CAAC8B,MAAF,CAASC;AAFqB,iBAAL,CAAnB;AAHnB;AAAA;AAAA;AAAA;AAAA,sBAFF,eAUE;AAAM,gBAAA,SAAS,EAAE,CAACpC,MAAM,CAACqC,UAAR,EAAoB,cAApB,EAAoC,KAAK3B,KAAL,CAAWD,IAAX,KAAoB,MAApB,GAA6BT,MAAM,CAACsC,UAApC,GAAiDtC,MAAM,CAACuC,SAA5F,EAAuGC,IAAvG,CAA4G,GAA5G,CAAjB;AAAmI,gBAAA,OAAO,EAAE,KAAKpC;AAAjJ;AAAA;AAAA;AAAA;AAAA,sBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbF,EAyBG,KAAKM,KAAL,CAAWc,KAAX,iBAAoB,QAAC,KAAD;AAAO,cAAA,KAAK,EAAC,QAAb;AAAsB,cAAA,IAAI,EAAE,KAA5B;AAAA,qCACjB;AAAG,gBAAA,KAAK,EAAE;AAACiB,kBAAAA,KAAK,EAAE,KAAR;AAAeC,kBAAAA,UAAU,EAAE;AAA3B,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADiB;AAAA;AAAA;AAAA;AAAA,oBAzBvB,eA4BE,QAAC,MAAD;AAAQ,cAAA,KAAK,MAAb;AAAc,cAAA,IAAI,EAAC,IAAnB;AAAwB,cAAA,IAAI,EAAC,QAA7B;AAAsC,cAAA,OAAO,EAAC,SAA9C;AAAwD,cAAA,QAAQ,EAAE,CAAC,KAAKhC,KAAL,CAAWc,KAAZ,IAAqB,CAAC,KAAKS,YAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA5BF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAkCE;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBAlCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,cAFA;AAAA,oBADF;AAgDC;;AA3G6B;;AA6GhC,oBAAelC,UAAU,CAACE,OAAD,CAAzB","sourcesContent":["import React, { useState, Component } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./components/pages/Prijava.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from './components/Navbar';\r\nimport Axios from \"axios\"\r\nimport Alert from \"reactstrap/lib/Alert\";\r\nimport {  Route, withRouter } from \"react-router-dom\";\r\nimport styles from './PasswordField.less';\r\nclass Prijava extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    ...props.location.state,\r\n    userName:\"\",\r\n    password:\"\",\r\n    error:false,\r\n    type: 'password'\r\n    };\r\n    \r\n  }\r\n  showHide = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({\r\n        type: this.state.type === 'text' ? 'password' : 'text'\r\n    });\r\n    this.input.focus();\r\n}\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0)\r\n  }\r\n  validateForm() {\r\n    return this.state.userName.length > 0 && this.state.password.length > 0;\r\n  }\r\n\r\n  handleSubmit = event =>{\r\n    event.preventDefault();\r\n    console.log(this.state.userName)\r\n    console.log(this.state.password)\r\n    Axios.get(\"http://localhost:3001/login?username=\"+this.state.userName+\"&password=\"+this.state.password).then(result=>{\r\n    console.log(result);\r\n    console.log(result.data);  \r\n    if(!result.data.length) this.setState(state => ({\r\n      ...state,\r\n      error:true\r\n    }));\r\n    else {\r\n      if(result.data[0].pristup){\r\n      this.setState(state => ({\r\n        ...state,\r\n        error:false\r\n      }));\r\n      console.log(result.data)\r\n      console.log(result.data[0])\r\n      this.props.history.push(\"/radnik-profil\", {info:result.data[0]});\r\n    }\r\n    else{\r\n      this.setState(state => ({\r\n        ...state,\r\n        error:true\r\n      }));\r\n    }\r\n    }\r\n  });\r\n    \r\n  }\r\n  render() {\r\n  return (\r\n    <>\r\n    <Navbar />\r\n    <div className=\"prijava-container\">\r\n    \r\n    <div className=\"Login\">\r\n    <h1>Prijava za osoblje</h1>\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Group size=\"lg\" controlId=\"email\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            autoFocus\r\n            type=\"username\"\r\n            value={this.state.userName}\r\n            onChange={(e) => this.setState(state => ({\r\n              ...state,\r\n              userName:e.target.value\r\n            }))}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group size=\"lg\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            value={this.state.password}\r\n            onChange={(e) => this.setState(state => ({\r\n              ...state,\r\n              password:e.target.value\r\n            }))}\r\n          />\r\n          <span className={[styles.visibility, 'flaticon-eye', this.state.type === 'text' ? styles.is_visible : styles.is_hidden].join(' ')} onClick={this.showHide}></span>\r\n        </Form.Group>\r\n        {this.state.error && <Alert color=\"danger\" fade={false}>\r\n            <p style={{color: \"red\", fontWeight: \"bold\"}}>Uneseni podaci nisu ispravni!</p>\r\n          </Alert>}\r\n        <Button block size=\"lg\" type=\"submit\" variant=\"primary\" disabled={!this.state.error && !this.validateForm}>\r\n          Prijava\r\n        </Button>\r\n      </Form>\r\n      <div className=\"reg-div\">\r\n    \r\n      </div>\r\n      \r\n\r\n    </div>\r\n    </div>\r\n    </>\r\n  );\r\n  }\r\n}\r\nexport default withRouter(Prijava);"]},"metadata":{},"sourceType":"module"}