{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\akurt\\\\HotelApp\\\\frontend\\\\src\\\\RadnikPrijava.js\";\nimport React, { useState, Component } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./components/pages/Prijava.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from \"react-router-dom\";\nimport Navbar from './components/Navbar';\nimport Axios from \"axios\";\nimport Alert from \"reactstrap/lib/Alert\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEye, faEyeSlash } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Eye = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  className: \"icon\",\n  icon: faEye\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 13\n}, this);\n\nconst EyeSlash = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  className: \"icon\",\n  icon: faEyeSlash\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 18\n}, this);\n\nclass Prijava extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showHide = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.setState({\n        type: this.state.type === 'text' ? 'password' : 'text',\n        show: this.state.show ? false : true\n      });\n      this.input.focus();\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log(this.state.userName);\n      console.log(this.state.password);\n      Axios.get(\"http://localhost:3001/login?username=\" + this.state.userName + \"&password=\" + this.state.password).then(result => {\n        console.log(result);\n        console.log(result.data);\n        if (!result.data.length) this.setState(state => ({ ...state,\n          error: true\n        }));else {\n          if (result.data[0].pristup) {\n            this.setState(state => ({ ...state,\n              error: false\n            }));\n            console.log(result.data);\n            console.log(result.data[0]);\n            this.props.history.push(\"/radnik-profil\", {\n              info: result.data[0]\n            });\n          } else {\n            this.setState(state => ({ ...state,\n              error: true\n            }));\n          }\n        }\n      });\n    };\n\n    this.state = { ...props.location.state,\n      userName: \"\",\n      password: \"\",\n      error: false,\n      type: 'password',\n      show: false\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  validateForm() {\n    return this.state.userName.length > 0 && this.state.password.length > 0;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prijava-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Prijava za osoblje\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              size: \"lg\",\n              controlId: \"email\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                autoFocus: true,\n                type: \"username\",\n                value: this.state.userName,\n                onChange: e => this.setState(state => ({ ...state,\n                  userName: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              size: \"lg\",\n              controlId: \"password\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: this.state.type,\n                value: this.state.password,\n                onChange: e => this.setState(state => ({ ...state,\n                  password: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 11\n              }, this), this.state.show ? /*#__PURE__*/_jsxDEV(\"i\", {\n                onClick: this.showHide,\n                children: Eye\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 30\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                onClick: this.showHide,\n                children: EyeSlash\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 67\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 9\n            }, this), this.state.error && /*#__PURE__*/_jsxDEV(Alert, {\n              color: \"danger\",\n              fade: false,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"red\",\n                  fontWeight: \"bold\"\n                },\n                children: \"Uneseni podaci nisu ispravni!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              block: true,\n              size: \"lg\",\n              type: \"submit\",\n              variant: \"primary\",\n              disabled: !this.state.error && !this.validateForm,\n              children: \"Prijava\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reg-div\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withRouter(Prijava);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/akurt/HotelApp/frontend/src/RadnikPrijava.js"],"names":["React","useState","Component","Form","Button","Link","Navbar","Axios","Alert","Route","withRouter","FontAwesomeIcon","faEye","faEyeSlash","Eye","EyeSlash","Prijava","constructor","props","showHide","e","preventDefault","stopPropagation","setState","type","state","show","input","focus","handleSubmit","event","console","log","userName","password","get","then","result","data","length","error","pristup","history","push","info","location","componentDidMount","window","scrollTo","validateForm","render","target","value","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState, Component } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./components/pages/Prijava.css\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from './components/Navbar';\r\nimport Axios from \"axios\"\r\nimport Alert from \"reactstrap/lib/Alert\";\r\nimport {  Route, withRouter } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { faEye,faEyeSlash } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Eye = <FontAwesomeIcon className=\"icon\" icon={faEye} />;\r\n\r\nconst EyeSlash = <FontAwesomeIcon className=\"icon\" icon ={faEyeSlash}/>;\r\nclass Prijava extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    ...props.location.state,\r\n    userName:\"\",\r\n    password:\"\",\r\n    error:false,\r\n    type: 'password', \r\n    show: false\r\n    };\r\n    \r\n  }\r\n  showHide = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({\r\n        type: this.state.type === 'text' ? 'password' : 'text',\r\n        show: this.state.show ? false : true\r\n    });\r\n    this.input.focus();\r\n}\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0)\r\n  }\r\n  validateForm() {\r\n    return this.state.userName.length > 0 && this.state.password.length > 0;\r\n  }\r\n\r\n  handleSubmit = event =>{\r\n    event.preventDefault();\r\n    console.log(this.state.userName)\r\n    console.log(this.state.password)\r\n    Axios.get(\"http://localhost:3001/login?username=\"+this.state.userName+\"&password=\"+this.state.password).then(result=>{\r\n    console.log(result);\r\n    console.log(result.data);  \r\n    if(!result.data.length) this.setState(state => ({\r\n      ...state,\r\n      error:true\r\n    }));\r\n    else {\r\n      if(result.data[0].pristup){\r\n      this.setState(state => ({\r\n        ...state,\r\n        error:false\r\n      }));\r\n      console.log(result.data)\r\n      console.log(result.data[0])\r\n      this.props.history.push(\"/radnik-profil\", {info:result.data[0]});\r\n    }\r\n    else{\r\n      this.setState(state => ({\r\n        ...state,\r\n        error:true\r\n      }));\r\n    }\r\n    }\r\n  });\r\n    \r\n  }\r\n  render() {\r\n  return (\r\n    <>\r\n    <Navbar />\r\n    <div className=\"prijava-container\">\r\n    \r\n    <div className=\"Login\">\r\n    <h1>Prijava za osoblje</h1>\r\n      <Form onSubmit={this.handleSubmit}>\r\n        <Form.Group size=\"lg\" controlId=\"email\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            autoFocus\r\n            type=\"username\"\r\n            value={this.state.userName}\r\n            onChange={(e) => this.setState(state => ({\r\n              ...state,\r\n              userName:e.target.value\r\n            }))}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group size=\"lg\" controlId=\"password\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type={this.state.type}\r\n            value={this.state.password}\r\n            onChange={(e) => this.setState(state => ({\r\n              ...state,\r\n              password:e.target.value\r\n            }))}\r\n          />\r\n          {this.state.show ? <i onClick={this.showHide}>{Eye}</i>:<i onClick={this.showHide}>{EyeSlash}</i>}\r\n        </Form.Group>\r\n        {this.state.error && <Alert color=\"danger\" fade={false}>\r\n            <p style={{color: \"red\", fontWeight: \"bold\"}}>Uneseni podaci nisu ispravni!</p>\r\n          </Alert>}\r\n        <Button block size=\"lg\" type=\"submit\" variant=\"primary\" disabled={!this.state.error && !this.validateForm}>\r\n          Prijava\r\n        </Button>\r\n      </Form>\r\n      <div className=\"reg-div\">\r\n    \r\n      </div>\r\n      \r\n\r\n    </div>\r\n    </div>\r\n    </>\r\n  );\r\n  }\r\n}\r\nexport default withRouter(Prijava);"]},"metadata":{},"sourceType":"module"}